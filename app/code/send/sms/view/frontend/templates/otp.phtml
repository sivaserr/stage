<?php


if($i = 1){
    $block->checknumber();
    
}




if(!empty(isset($_POST['send']))){  //Resend otp
   $block->checknumber();
}elseif(!empty(isset($_POST['save']))){  //Check otp
     $block->checkotp();
}



?>

<form method="post" class="additional_form_registration" > 
<div class="row" id="row_tab">

<div class="otp_timer">
<p>Waiting for Otp  <span id="timer">2:00</span></p>
<script type="text/javascript">
var timeoutHandle;
function countdown(minutes) {
    var seconds = 60;
    var mins = minutes
    function tick() {
        var counter = document.getElementById("timer");
        var current_minutes = mins-1
        seconds--;
        counter.innerHTML =
        current_minutes.toString() + ":" + (seconds < 10 ? "0" : "") + String(seconds);
        if( seconds > 0 ) {
            timeoutHandle=setTimeout(tick, 1000);
        } else {

            if(mins > 1){
               // countdown(mins-1);   never reach “00″ issue solved:Contributed by Victor Streithorst
               setTimeout(function () { countdown(mins - 1); }, 1000);

            }
        }
    }
    tick();
}

countdown(2);

</script>
</div>

<div class="field2 col-sm-12" id="field2">
    <div class="lalbe">
    <label id="first">Enter OTP</label><br/>
    <input type="text" class="inputotp" name="getotp" placeholder="Enter otp"><br/></div>
    <button class="btn_field check" type="submit" name="save">check</button><br/>
    <button class="btn_field check resend" type="submit" name="send">Resend OTP</button><br/>
</div>
</div>

</form>


<style>
.additional_form_registration .field1, .additional_form_registration .field2
    {
        padding-top:20px!important;
        padding-bottom:20px!important;
    }
.btn_field
{
           float: right;
    margin-right: 5px;
    margin-top: -38px;
    height: 38px!important;
    width: 23%;
    left: 5px;
    position: relative;
}
.additional_form_registration {
    margin-top: -769px;
}
.success{
       margin-top: -840px;
}
.messages {
    display: none;
}
#row_tab{
width: 29%!important;
margin-left: 36%!important;
margin-top: -15px;
}

.error {
margin-top: -56px;
position: absolute;
top: 256px;
margin-left: 50%;
transform: translate(-50%);
background: #074771;
padding: 10px;
color: white;
}
.btn_field.send_otp {
width: 100%;
background: #074771;
color: #fff;
border: none;
}
.resend {
  float: right;
margin-right: 5px;
   margin-top: -11px;
    height: 38px!important;
    width: 40%;
    left:-116px;
    position: relative;
}
@media only screen and (max-width: 769px) {
.lalbe {
   margin-left: -154px;
    width: 284px;
    position: absolute;
    margin-top: -104px;
}
.additional_form_registration {
      margin-top: -1278px;
      margin-left: 60px;
}
.check {
    position: absolute;
    top: -10px!important;
    left: 69px;
    width: 76px!important;
}
.resend {
  margin-top: 6px;
    left: -43px!important;
}
.footer-middle {
    padding: 62px 0 0;
    margin-bottom: -20px;
    margin-top: 97px;
}
}
</style> 

<?php  $num = $block->getId(); ?>

   




